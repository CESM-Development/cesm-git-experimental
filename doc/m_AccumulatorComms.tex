%                **** IMPORTANT NOTICE *****
% This LaTeX file has been automatically produced by ProTeX v. 1.0
% Any changes made to this file will likely be lost next time
% this file is regenerated from its Fortran source.
% Send questions to Arlindo da Silva, dasilva@gsfc.nasa.gov
 
\parskip        0pt
\parindent      0pt
\baselineskip  11pt
 
%--------------------- SHORT-HAND MACROS ----------------------
\def\bv{\begin{verbatim}}
\def\ev{\end{verbatim}}
\def\be{\begin{equation}}
\def\ee{\end{equation}}
\def\bea{\begin{eqnarray}}
\def\eea{\end{eqnarray}}
\def\bi{\begin{itemize}}
\def\ei{\end{itemize}}
\def\bn{\begin{enumerate}}
\def\en{\end{enumerate}}
\def\bd{\begin{description}}
\def\ed{\end{description}}
\def\({\left (}
\def\){\right )}
\def\[{\left [}
\def\]{\right ]}
\def\<{\left  \langle}
\def\>{\right \rangle}
\def\cI{{\cal I}}
\def\diag{\mathop{\rm diag}}
\def\tr{\mathop{\rm tr}}
%-------------------------------------------------------------
 
%/////////////////////////////////////////////////////////////

 \subsection{Module m\_AccumulatorComms - Communication methods for the }


           the Accumulator class.
 
 
  An {\em accumulator} is a data class used for computing running sums 
  and/or time averages of {\tt AttrVect} class data (see 
  {\tt m\_Accumulator} for details).  This module defines the 
  communications methods for the accumulator, employing both the 
  {\tt GlobalMap} and {\tt GlobalSegMap} decomposition descriptors.
 
\bigskip{\sf INTERFACE:}
\begin{verbatim} 
 module m_AccumulatorComms\end{verbatim}{\em USES:}
\begin{verbatim}      use m_Accumulator, only : Accumulator
      use m_GlobalMap,   only : GlobalMap
 
      implicit none
 
      private	  except
 
  List of communications Methods for the Accumulator class
 
      public :: gather		  gather all local vectors to the root
      public :: scatter		  scatter from the root to all PEs
      public :: bcast		  bcast from root to all PEs
 
  Definition of interfaces for the communication methods for 
  the Accumulator:
 
    interface gather ; module procedure gather_ ; end interface
    interface scatter; module procedure scatter_; end interface
    interface bcast  ; module procedure bcast_  ; end interface
 \end{verbatim}{\sf REVISION HISTORY:}
\begin{verbatim}  	31Oct00 - Jay Larson <larson@mcs.anl.gov> - initial prototype--
                  These routines were separated from the module 
                  {\tt m\_Accumulator}\end{verbatim}
 
%/////////////////////////////////////////////////////////////
 
\mbox{}\hrulefill\ 
 

 \subsubsection{gather\_ - gather a vector according to a given GlobalMap}


 
 
\bigskip{\sf INTERFACE:}
\begin{verbatim} 
 subroutine gather_(iC,oC,Mp,root,comm,stat)\end{verbatim}{\em USES:}
\begin{verbatim}      use m_stdio
      use m_die
      use m_GlobalMap, only : GlobalMap
      use m_GlobalMap, only : GlobalMap_lsize => lsize
      use m_GlobalMap, only : GlobalMap_gsize => gsize
      use m_AttrVect,  only : AttrVect_lsize => lsize
      use m_Accumulator,  only : Accumulator_lsize => lsize
      use m_AttrVectComms,  only : AttrVect_gather => gather
      use m_mpif90
 
      implicit none
      type(Accumulator),intent(in)  :: iC
      type(Accumulator),intent(out) :: oC
      type(GlobalMap) ,intent(in)   :: Mp
      integer, intent(in) :: root
      integer, intent(in) :: comm
      integer, optional,intent(out) :: stat
 \end{verbatim}{\sf REVISION HISTORY:}
\begin{verbatim}  	13Sep00 - Jay Larson <larson@mcs.anl.gov> - initial prototype
  	31Oct00 - Jay Larson <larson@mcs.anl.gov> - relocated to the
                  module m_AccumulatorComms\end{verbatim}
 
%/////////////////////////////////////////////////////////////
 
\mbox{}\hrulefill\ 
 

 \subsubsection{scatter\_ - scatter an Accumulator using a GlobalMap.}


 
 
\bigskip{\sf INTERFACE:}
\begin{verbatim} 
 subroutine scatter_(iC,oC,Mp,root,comm,stat)\end{verbatim}{\em USES:}
\begin{verbatim}      use m_stdio
      use m_die
      use m_GlobalMap, only : GlobalMap_lsize => lsize
      use m_GlobalMap, only : GlobalMap_gsize => gsize
      use m_Accumulator, only : Accumulator_lsize => lsize
      use m_mpif90
      use m_AttrVectComms, only : AttrVect_scatter => scatter
 
      implicit none
      type(Accumulator),intent(in)  :: iC
      type(Accumulator),intent(out) :: oC
      type(GlobalMap) ,intent(in)  :: Mp
      integer, intent(in) :: root
      integer, intent(in) :: comm
      integer, optional,intent(out) :: stat
 \end{verbatim}{\sf REVISION HISTORY:}
\begin{verbatim}  	14Sep00 - Jay Larson <larson@mcs.anl.gov> - initial prototype
  	31Oct00 - Jay Larson <larson@mcs.anl.gov> - moved from the module
                  m_Accumulator to m_AccumulatorComms\end{verbatim}
 
%/////////////////////////////////////////////////////////////
 
\mbox{}\hrulefill\ 
 

 \subsubsection{bcast\_ - broadcast an Accumulator from the root to all PEs.}


 
 
\bigskip{\sf INTERFACE:}
\begin{verbatim} 
 subroutine bcast_(aC, root, comm, stat)\end{verbatim}{\em USES:}
\begin{verbatim}      use m_die, only : die, perr
      use m_mpif90
      use m_AttrVectComms, only : AttrVect_bcast => bcast
 
      implicit none
 
      type(Accumulator)  :: aC	  (IN) on the root, (OUT) elsewhere
      integer,intent(in) :: root
      integer,intent(in) :: comm
      integer,optional,intent(out) :: stat
 \end{verbatim}{\sf REVISION HISTORY:}
\begin{verbatim}  	14Sep00 - Jay Larson <larson@mcs.anl.gov> - initial prototype
  	31Oct00 - Jay Larson <larson@mcs.anl.gov> - moved from the module
                  m_Accumulator to m_AccumulatorComms\end{verbatim}

%...............................................................
